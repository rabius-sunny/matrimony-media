(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{2839:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in",function(){return r(75)}])},75:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(7568),a=r(4924),s=r(6042),o=r(9396),i=r(655),u=r(5893),c=r(5985),l=r(9008),d=r.n(l),h=r(7702),f=(0,r(5503).ZF)({apiKey:"AIzaSyDN51CHjAvGeHR22bvjfyNAiaZGV9hP-Xk",authDomain:"matrimony-media.firebaseapp.com",projectId:"matrimony-media",storageBucket:"matrimony-media.appspot.com",messagingSenderId:"168930683447",appId:"1:168930683447:web:32cd640ef0712a4ae22db2"}),g=r(1163),p=r(7294),m=r(6627),x=r(6175);function y(e,t){return Math.ceil(Math.random()*(t-e)+e)}function v(){var e=function(){var e=(0,p.useState)(null),t=e[0],r=e[1];return(0,p.useEffect)((function(){r(null),x.Z.get("".concat("http://localhost:5000","/get-uids")).then((function(e){r(e.uIds)})).catch((function(e){r(null)}))}),[]),{uIds:t}}().uIds,t=(0,p.useState)({phone:"",otp:""}),r=t[0],l=t[1],v=(0,p.useState)(null),b=v[0],k=v[1],j=(0,p.useState)(null),w=j[0],N=j[1],Z=(0,p.useState)(!1),_=Z[0],I=Z[1],S=(0,g.useRouter)(),X=(0,c.Z)();(0,p.useEffect)((function(){X&&S.push("/")}),[X]),(0,p.useEffect)((function(){var t=y(10100,99999);if(k(t),e)for(;e.includes(b);)k(y(10100,99999)),console.log("exists, trying again!")}),[e]);var E=function(){var e=(0,n.Z)((function(e){var t,n;return(0,i.__generator)(this,(function(e){return t=(0,h.v0)(f),(n=new h.lI("recaptcha-container",{},t)).render(),[2,(0,h.$g)(t,"+88"+r.phone.split(" ").join(""),n)]}))}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,n.Z)((function(e){var t,n;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return e.preventDefault(),isNaN(Number(r.phone))||r.phone.length<11||r.phone.length>14?(alert("Please enter a valid phone number"),[3,4]):[3,1];case 1:return a.trys.push([1,3,,4]),[4,E()];case 2:return t=a.sent(),N(t),I(!0),console.log("response",t),[3,4];case 3:return n=a.sent(),console.log("otp error",n),[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,n.Z)((function(e){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:e.preventDefault(),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,w.confirm(r.otp)];case 2:return n.sent(),T(e),[3,4];case 3:return t=n.sent(),console.log("errorss",t),alert("wrong otp"),window.location.reload(),[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,n.Z)((function(e){var t,n;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:e.preventDefault(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,m.Z.signIn({phone:r.phone.split(" ").join(""),uId:b})];case 2:return t=a.sent(),localStorage.setItem("token",t.token),localStorage.setItem("id",t.id),localStorage.removeItem("bookmarks"),S.push("/profile/edit/primary"),[3,4];case 3:return n=a.sent(),alert(n.response.data.message),window.location.reload(),[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),C=function(e){return l((0,o.Z)((0,s.Z)({},r),(0,a.Z)({},e.target.name,e.target.value)))};return(0,u.jsxs)("div",{className:"bg-secondary",children:[(0,u.jsx)(d(),{children:(0,u.jsx)("title",{children:"\u09b8\u09be\u0987\u09a8 \u0987\u09a8 | \u099c\u09be\u09a8\u09cd\u09a8\u09be\u09a4\u09bf \u099c\u09c1\u099f\u09bf.COM"})}),(0,u.jsxs)("div",{className:"flex h-screen justify-center",children:[(0,u.jsx)("div",{className:"hidden bg-cover lg:block lg:w-2/3",style:{backgroundImage:"url('/images/homebg2.jpg')"},children:(0,u.jsx)("div",{className:"flex h-full items-center bg-gray-900 bg-opacity-40 px-20",children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("h2",{className:"text-6xl font-bold text-white",children:[(0,u.jsx)("span",{className:"text-primary",children:"\u099c\u09be\u09a8\u09cd\u09a8\u09be\u09a4\u09bf"})," ",(0,u.jsx)("span",{className:"text-secondary",children:"\u099c\u09c1\u099f\u09bf"})]}),(0,u.jsx)("p",{className:"mt-3 text-xl max-w-xl text-white",children:"\u09a6\u09cd\u09ac\u09c0\u09a8\u09a6\u09be\u09b0 \u09aa\u09be\u09a4\u09cd\u09b0-\u09aa\u09be\u09a4\u09cd\u09b0\u09c0 \u0996\u09cb\u0981\u099c\u09be\u09b0 \u098f\u0995\u099f\u09bf \u09ac\u09bf\u09b6\u09cd\u09ac\u09b8\u09cd\u09a4 \u09aa\u09cd\u09b0\u09a4\u09bf\u09b7\u09cd\u09a0\u09be\u09a8"})]})})}),(0,u.jsx)("div",{className:"mx-auto bg-secondary flex w-full max-w-md items-center px-6 lg:w-2/6",children:(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("h2",{className:"text-center text-4xl md:text-6xl font-bold text-primary dark:text-white",children:"\u099c\u09be\u09a8\u09cd\u09a8\u09be\u09a4\u09bf \u099c\u09c1\u099f\u09bf"}),(0,u.jsx)("p",{className:"mt-5 text-lg text-white dark:text-gray-300",children:"\u0986\u09aa\u09a8\u09be\u09b0 \u09ab\u09cb\u09a8 \u09a8\u09ae\u09cd\u09ac\u09b0 \u09a6\u09bf\u09df\u09c7 \u09aa\u09cd\u09b0\u09ac\u09c7\u09b6 \u0995\u09b0\u09c1\u09a8"})]}),(0,u.jsxs)("div",{className:"mt-8",children:[!_&&(0,u.jsxs)("form",{onSubmit:P,children:[(0,u.jsxs)("div",{className:"mt-6",children:[(0,u.jsx)("label",{htmlFor:"phone",className:"text-sm text-white dark:text-gray-200",children:"Phone"}),(0,u.jsx)("input",{type:"number",placeholder:"01XXXXXXXXX",name:"phone",id:"phone",onChange:C,required:!0,className:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-secondary font-semibold placeholder-gray-400 focus:outline-none focus:ring focus:ring-dark dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:placeholder-gray-600"})]}),(0,u.jsx)("div",{className:"my-3",children:(0,u.jsx)("div",{id:"recaptcha-container"})}),(0,u.jsx)("div",{className:"mt-6",children:(0,u.jsx)("button",{className:"w-full bg-primary text-white hover:bg-dark transform rounded-md px-4 py-2 tracking-wide transition-colors duration-200 focus:outline-none focus:ring focus:ring-dark",children:"OTP \u0995\u09cb\u09a1 \u09a8\u09bf\u09a8"})})]}),_&&(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("h1",{className:"text-3xl text-white",children:"OTP \u0995\u09cb\u09a1 \u09a6\u09bf\u09a8"}),(0,u.jsxs)("form",{onSubmit:q,children:[(0,u.jsx)("input",{type:"number",name:"otp",onChange:C,required:!0,className:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 placeholder-gray-400 focus:border-blue-400 focus:outline-none focus:ring focus:ring-primary dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:placeholder-gray-600 dark:focus:border-blue-400"}),(0,u.jsx)("div",{className:"mt-6",children:(0,u.jsx)("button",{type:"submit",className:"w-full bg-primary hover:bg-dark transform rounded-md bg-blue-500 px-4 py-2 tracking-wide text-white transition-colors duration-200 hover:bg-blue-400 focus:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 ",children:"OTP \u09a6\u09bf\u09df\u09c7 \u09aa\u09cd\u09b0\u09ac\u09c7\u09b6 \u0995\u09b0\u09c1\u09a8"})})]})]})]})]})})]})]})}},6175:function(e,t,r){"use strict";var n=r(6042),a=r(9396),s=r(9669),o=r.n(s)().create({baseURL:"http://localhost:5000",timeout:1e4});o.interceptors.request.use((function(e){return(0,a.Z)((0,n.Z)({},e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})}));var i=function(e){return e.data},u={get:function(e){return o.get(e).then(i)},post:function(e,t){return o.post(e,t).then(i)},patch:function(e,t){return o.patch(e,t).then(i)},delete:function(e){return o.delete(e).then(i)}};t.Z=u},6627:function(e,t,r){"use strict";var n=r(1438),a=r(2951),s=r(6175),o=function(){function e(){(0,n.Z)(this,e)}return(0,a.Z)(e,[{key:"signIn",value:function(e){return s.Z.post("/sign-in",e)}},{key:"getUser",value:function(){return s.Z.get("/get-user")}},{key:"getType",value:function(){return s.Z.get("/get-type")}},{key:"getFavorites",value:function(){return s.Z.get("/favorites")}},{key:"checkFavorite",value:function(e){return s.Z.get("/is-favorite/".concat(e))}},{key:"addToBookmark",value:function(e){return s.Z.get("/post-favorites/".concat(e))}},{key:"removeBookmark",value:function(e){return s.Z.delete("/delete-favorites/".concat(e))}},{key:"getFeatureds",value:function(){return s.Z.get("/get-featureds")}},{key:"makeRequest",value:function(e){return s.Z.post("/request-info",e)}},{key:"deleteHideRequest",value:function(e){return s.Z.post("/delete-hide-request",e)}},{key:"hideByUser",value:function(){return s.Z.get("/hide-by-user")}},{key:"postMessage",value:function(e){return s.Z.post("/post-message",e)}}]),e}();t.Z=new o}},function(e){e.O(0,[301,917,224,774,888,179],(function(){return t=2839,e(e.s=t);var t}));var t=e.O();_N_E=t}]);